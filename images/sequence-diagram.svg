<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2294px" preserveAspectRatio="none" style="width:787px;height:2294px;" version="1.1" viewBox="0 0 787 2294" width="787px" zoomAndPan="magnify"><defs><filter height="300%" id="f1aibd1xv11z2n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="314" x="371.5" y="276.9609"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="314" x="371.5" y="323.2266"/><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="145.3359" style="stroke: #000000; stroke-width: 2.0;" width="555.5" x="15" y="492.5625"/><rect fill="#FFFFFF" height="56.9375" style="stroke: none; stroke-width: 1.0;" width="555.5" x="15" y="580.9609"/><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="695.0313"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="420.5" x="15" y="741.2969"/><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="884.5"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="420.5" x="15" y="930.7656"/><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="119.3359" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="1073.9688"/><rect fill="#FFFFFF" height="73.0703" style="stroke: none; stroke-width: 1.0;" width="420.5" x="15" y="1120.2344"/><rect fill="#FFFFFF" filter="url(#f1aibd1xv11z2n)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="1550.5"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="420.5" x="15" y="1596.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="60" x2="60" y1="86.2969" y2="2206.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="122" x2="122" y1="86.2969" y2="2206.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="403.5" x2="403.5" y1="86.2969" y2="2206.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="594.5" x2="594.5" y1="86.2969" y2="2206.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="647.5" x2="647.5" y1="86.2969" y2="2206.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="25" y="82.9951">Recipient</text><ellipse cx="60.5" cy="13" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60.5,21 L60.5,48 M47.5,29 L73.5,29 M60.5,48 L47.5,63 M60.5,48 L73.5,63 " fill="none" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="25" y="2218.8232">Recipient</text><ellipse cx="60.5" cy="2232.125" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M60.5,2240.125 L60.5,2267.125 M47.5,2248.125 L73.5,2248.125 M60.5,2267.125 L47.5,2282.125 M60.5,2267.125 L73.5,2282.125 " fill="none" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="108.5" y="82.9951">IPP</text><ellipse cx="122" cy="54" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="110" x2="134" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="108.5" y="2218.8232">IPP</text><ellipse cx="122" cy="2238.125" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="110" x2="134" y1="2252.125" y2="2252.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="381.5" y="82.9951">Vipps</text><path d="M385.5,34 C385.5,24 403.5,24 403.5,24 C403.5,24 421.5,24 421.5,34 L421.5,60 C421.5,70 403.5,70 403.5,70 C403.5,70 385.5,70 385.5,60 L385.5,34 " fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M385.5,34 C385.5,44 403.5,44 403.5,44 C403.5,44 421.5,44 421.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="381.5" y="2218.8232">Vipps</text><path d="M385.5,2232.125 C385.5,2222.125 403.5,2222.125 403.5,2222.125 C403.5,2222.125 421.5,2222.125 421.5,2232.125 L421.5,2258.125 C421.5,2268.125 403.5,2268.125 403.5,2268.125 C403.5,2268.125 385.5,2268.125 385.5,2258.125 L385.5,2232.125 " fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M385.5,2232.125 C385.5,2242.125 403.5,2242.125 403.5,2242.125 C403.5,2242.125 421.5,2242.125 421.5,2232.125 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="581" y="82.9951">ISP</text><ellipse cx="594.5" cy="54" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="582.5" x2="606.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="581" y="2218.8232">ISP</text><ellipse cx="594.5" cy="2238.125" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="582.5" x2="606.5" y1="2252.125" y2="2252.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="620.5" y="82.9951">ISP_IPP</text><ellipse cx="648" cy="54" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="636" x2="660" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="620.5" y="2218.8232">ISP_IPP</text><ellipse cx="648" cy="2238.125" fill="#FEFECE" filter="url(#f1aibd1xv11z2n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="636" x2="660" y1="2252.125" y2="2252.125"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="116.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="116.8633" y2="116.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="119.8633" y2="119.8633"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="209" x="284.75" y="106.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="290.75" y="122.3638">Fetch authorization token</text><polygon fill="#A80036" points="414.5,156.5625,404.5,160.5625,414.5,164.5625,410.5,160.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408.5" x2="647" y1="160.5625" y2="160.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="420.5" y="155.4966">Fetch authorization token</text><polygon fill="#A80036" points="636,185.6953,646,189.6953,636,193.6953,640,189.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="642" y1="189.6953" y2="189.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="410.5" y="184.6294">Authorization token</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="218.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="218.2617" y2="218.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="221.2617" y2="221.2617"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="177" x="300.75" y="207.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="306.75" y="223.7622">Fetch recipient token</text><polygon fill="#A80036" points="414.5,257.9609,404.5,261.9609,414.5,265.9609,410.5,261.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408.5" x2="647" y1="261.9609" y2="261.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="420.5" y="256.895">Fetch recipient token</text><path d="M371.5,276.9609 L435.5,276.9609 L435.5,283.9609 L425.5,293.9609 L371.5,293.9609 L371.5,276.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="314" x="371.5" y="276.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="386.5" y="290.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="450.5" y="289.1714">[Recipient opt-in]</text><polygon fill="#A80036" points="636,311.2266,646,315.2266,636,319.2266,640,315.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="642" y1="315.2266" y2="315.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="410.5" y="310.1606">Recipient token</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="371.5" x2="685.5" y1="324.2266" y2="324.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="376.5" y="334.437">[Recipient opt-out]</text><polygon fill="#A80036" points="636,355.1641,646,359.1641,636,363.1641,640,359.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="642" y1="359.1641" y2="359.1641"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="410.5" y="354.0981">Recipient not found</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="394.7305"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="394.7305" y2="394.7305"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="397.7305" y2="397.7305"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="124" x="327.25" y="384.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="333.25" y="400.231">Create invoice</text><polygon fill="#A80036" points="414.5,434.4297,404.5,438.4297,414.5,442.4297,410.5,438.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408.5" x2="593.5" y1="438.4297" y2="438.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="420.5" y="433.3638">Create invoice</text><polygon fill="#A80036" points="582.5,468.5625,592.5,472.5625,582.5,476.5625,586.5,472.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="588.5" y1="472.5625" y2="472.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="410.5" y="467.4966">OK: Invoice created</text><path d="M8,451.4297 L8,476.4297 L395,476.4297 L395,461.4297 L385,451.4297 L8,451.4297 " fill="#FBFB77" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M385,451.4297 L385,461.4297 L395,461.4297 L385,451.4297 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="366" x="14" y="468.4966">Invoice has been inserted (created), but not yet validated</text><path d="M15,492.5625 L79,492.5625 L79,499.5625 L69,509.5625 L15,509.5625 L15,492.5625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="145.3359" style="stroke: #000000; stroke-width: 2.0;" width="555.5" x="15" y="492.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="30" y="505.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="94" y="504.7729">[Invoice validation OK]</text><polygon fill="#A80036" points="71.5,526.8281,61.5,530.8281,71.5,534.8281,67.5,530.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65.5" x2="402.5" y1="530.8281" y2="530.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="77.5" y="525.7622">Show invoice in app</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="559.9609" y2="559.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="559.9609" y2="572.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="572.9609" y2="572.9609"/><polygon fill="#A80036" points="414.5,568.9609,404.5,572.9609,414.5,576.9609,410.5,572.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="410.5" y="554.895">Invoice status: pending</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="15" x2="570.5" y1="581.9609" y2="581.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="20" y="592.1714">[Invoice validation fails]</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="616.8984" y2="616.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="616.8984" y2="629.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="629.8984" y2="629.8984"/><polygon fill="#A80036" points="414.5,625.8984,404.5,629.8984,414.5,633.8984,410.5,629.8984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="410.5" y="611.8325">Invoice status: rejected</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="665.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="665.4648" y2="665.4648"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="668.4648" y2="668.4648"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="282" x="248.25" y="654.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263" x="254.25" y="670.9653">Invoice state: Pending -&gt; Approved</text><path d="M15,695.0313 L79,695.0313 L79,702.0313 L69,712.0313 L15,712.0313 L15,695.0313 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="695.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="30" y="708.0981">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="94" y="707.2417">[IPP]</text><polygon fill="#A80036" points="391.5,729.2969,401.5,733.2969,391.5,737.2969,395.5,733.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="733.2969" y2="733.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="129" y="728.231">Change invoice status to approved</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="15" x2="435.5" y1="742.2969" y2="742.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="20" y="752.5073">[Recipient]</text><polygon fill="#A80036" points="391.5,773.2344,401.5,777.2344,391.5,781.2344,395.5,777.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="777.2344" y2="777.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="67.5" y="772.1685">Recipient approves invoice</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="813.3672" y2="813.3672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="813.3672" y2="826.3672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="826.3672" y2="826.3672"/><polygon fill="#A80036" points="414.5,822.3672,404.5,826.3672,414.5,830.3672,410.5,826.3672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="410.5" y="808.3013">Invoice status: approved</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="854.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="854.9336" y2="854.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="857.9336" y2="857.9336"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="268" x="255.25" y="844.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="249" x="261.25" y="860.4341">Invoice state: Pending -&gt; Deleted</text><path d="M15,884.5 L79,884.5 L79,891.5 L69,901.5 L15,901.5 L15,884.5 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="884.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="30" y="897.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="94" y="896.7104">[IPP]</text><polygon fill="#A80036" points="391.5,918.7656,401.5,922.7656,391.5,926.7656,395.5,922.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="922.7656" y2="922.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="129" y="917.6997">Delete invoice</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="15" x2="435.5" y1="931.7656" y2="931.7656"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="20" y="941.9761">[Recipient]</text><polygon fill="#A80036" points="391.5,962.7031,401.5,966.7031,391.5,970.7031,395.5,966.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="966.7031" y2="966.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="67.5" y="961.6372">Recipient delete invoice</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="1002.8359" y2="1002.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="1002.8359" y2="1015.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="1015.8359" y2="1015.8359"/><polygon fill="#A80036" points="414.5,1011.8359,404.5,1015.8359,414.5,1019.8359,410.5,1015.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="410.5" y="997.77">Invoice status: deleted</text><path d="M566,988.2031 L566,1013.2031 L758,1013.2031 L758,998.2031 L748,988.2031 L566,988.2031 " fill="#FBFB77" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M748,988.2031 L748,998.2031 L758,998.2031 L748,988.2031 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="572" y="1005.27">Invoice cannot be modified</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1044.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1044.4023" y2="1044.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1047.4023" y2="1047.4023"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="279" x="249.75" y="1033.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="255.75" y="1049.9028">Invoice state: Approved -&gt; Deleted</text><path d="M15,1073.9688 L79,1073.9688 L79,1080.9688 L69,1090.9688 L15,1090.9688 L15,1073.9688 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="119.3359" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="1073.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="30" y="1087.0356">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="94" y="1086.1792">[IPP]</text><polygon fill="#A80036" points="391.5,1108.2344,401.5,1112.2344,391.5,1116.2344,395.5,1112.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="1112.2344" y2="1112.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="129" y="1107.1685">Delete invoice</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="15" x2="435.5" y1="1121.2344" y2="1121.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="20" y="1131.4448">[Recipient]</text><polygon fill="#A80036" points="391.5,1152.1719,401.5,1156.1719,391.5,1160.1719,395.5,1156.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="1156.1719" y2="1156.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="67.5" y="1151.106">Recipient stop approved payment</text><polygon fill="#A80036" points="391.5,1181.3047,401.5,1185.3047,391.5,1189.3047,395.5,1185.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="1185.3047" y2="1185.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="67.5" y="1180.2388">Recipient delete invoice</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="1221.4375" y2="1221.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="1221.4375" y2="1234.4375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="1234.4375" y2="1234.4375"/><polygon fill="#A80036" points="414.5,1230.4375,404.5,1234.4375,414.5,1238.4375,410.5,1234.4375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="410.5" y="1216.3716">Invoice status: deleted</text><path d="M566,1206.8047 L566,1231.8047 L758,1231.8047 L758,1216.8047 L748,1206.8047 L566,1206.8047 " fill="#FBFB77" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M748,1206.8047 L748,1216.8047 L758,1216.8047 L748,1206.8047 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="572" y="1223.8716">Invoice cannot be modified</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1263.0039"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1263.0039" y2="1263.0039"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1266.0039" y2="1266.0039"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="266" x="256.25" y="1252.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247" x="262.25" y="1268.5044">Invoice state: Pending -&gt; Expired</text><polygon fill="#A80036" points="391.5,1302.7031,401.5,1306.7031,391.5,1310.7031,395.5,1306.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="1306.7031" y2="1306.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="67.5" y="1301.6372">Pending invoice not approved after due + 14 days</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="1335.8359" y2="1335.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="1335.8359" y2="1348.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="1348.8359" y2="1348.8359"/><polygon fill="#A80036" points="414.5,1344.8359,404.5,1348.8359,414.5,1352.8359,410.5,1348.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="410.5" y="1330.77">Invoice status: expired</text><path d="M565,1321.2031 L565,1346.2031 L757,1346.2031 L757,1331.2031 L747,1321.2031 L565,1321.2031 " fill="#FBFB77" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M747,1321.2031 L747,1331.2031 L757,1331.2031 L747,1321.2031 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="571" y="1338.27">Invoice cannot be modified</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1377.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1377.4023" y2="1377.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1380.4023" y2="1380.4023"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="338" x="220.25" y="1366.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="226.25" y="1382.9028">Invoice state: Created/Pending -&gt; Revoked</text><polygon fill="#A80036" points="414.5,1417.1016,404.5,1421.1016,414.5,1425.1016,410.5,1421.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408.5" x2="593.5" y1="1421.1016" y2="1421.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="420.5" y="1416.0356">Invoice revoked by the ISP</text><polygon fill="#A80036" points="71.5,1446.2344,61.5,1450.2344,71.5,1454.2344,67.5,1450.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65.5" x2="402.5" y1="1450.2344" y2="1450.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="77.5" y="1445.1685">Remove invoice from app</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="1479.3672" y2="1479.3672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="1479.3672" y2="1492.3672"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="1492.3672" y2="1492.3672"/><polygon fill="#A80036" points="414.5,1488.3672,404.5,1492.3672,414.5,1496.3672,410.5,1492.3672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="410.5" y="1474.3013">Invoice status: revoked</text><path d="M569,1464.7344 L569,1489.7344 L761,1489.7344 L761,1474.7344 L751,1464.7344 L569,1464.7344 " fill="#FBFB77" filter="url(#f1aibd1xv11z2n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M751,1464.7344 L751,1474.7344 L761,1474.7344 L751,1464.7344 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="575" y="1481.8013">Invoice cannot be modified</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1520.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1520.9336" y2="1520.9336"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1523.9336" y2="1523.9336"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="282" x="248.25" y="1510.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263" x="254.25" y="1526.4341">Invoice state: Approved -&gt; Pending</text><path d="M15,1550.5 L79,1550.5 L79,1557.5 L69,1567.5 L15,1567.5 L15,1550.5 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="420.5" x="15" y="1550.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="30" y="1563.5669">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30" x="94" y="1562.7104">[IPP]</text><polygon fill="#A80036" points="391.5,1584.7656,401.5,1588.7656,391.5,1592.7656,395.5,1588.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="1588.7656" y2="1588.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="129" y="1583.6997">Change invoice status to pending</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="15" x2="435.5" y1="1597.7656" y2="1597.7656"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="20" y="1607.9761">[Recipient]</text><polygon fill="#A80036" points="391.5,1628.7031,401.5,1632.7031,391.5,1636.7031,395.5,1632.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="60.5" x2="397.5" y1="1632.7031" y2="1632.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="67.5" y="1627.6372">Recipient stop approved payment</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="445.5" y1="1668.8359" y2="1668.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="445.5" x2="445.5" y1="1668.8359" y2="1681.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="404.5" x2="445.5" y1="1681.8359" y2="1681.8359"/><polygon fill="#A80036" points="414.5,1677.8359,404.5,1681.8359,414.5,1685.8359,410.5,1681.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="410.5" y="1663.77">Invoice status: pending</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1710.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1710.4023" y2="1710.4023"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1713.4023" y2="1713.4023"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="150" x="314.25" y="1699.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="320.25" y="1715.9028">Get single invoice</text><polygon fill="#A80036" points="414.5,1750.1016,404.5,1754.1016,414.5,1758.1016,410.5,1754.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="408.5" x2="647" y1="1754.1016" y2="1754.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="420.5" y="1749.0356">Get single invoice</text><polygon fill="#A80036" points="636,1779.2344,646,1783.2344,636,1787.2344,640,1783.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="403.5" x2="642" y1="1783.2344" y2="1783.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="410.5" y="1778.1685">Single invoice</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1811.8008"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1811.8008" y2="1811.8008"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1814.8008" y2="1814.8008"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="109" x="334.75" y="1801.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="340.75" y="1817.3013">List invoices</text><polygon fill="#A80036" points="391.5,1851.5,401.5,1855.5,391.5,1859.5,395.5,1855.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="1855.5" y2="1855.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="129" y="1850.4341">Get list of invoices</text><polygon fill="#A80036" points="133,1880.6328,123,1884.6328,133,1888.6328,129,1884.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="127" x2="402.5" y1="1884.6328" y2="1884.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="139" y="1879.5669">List of invoices</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="1913.1992"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1913.1992" y2="1913.1992"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="1916.1992" y2="1916.1992"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="126" x="326.25" y="1902.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="332.25" y="1918.6997">Count invoices</text><polygon fill="#A80036" points="391.5,1952.8984,401.5,1956.8984,391.5,1960.8984,395.5,1956.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="1956.8984" y2="1956.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="129" y="1951.8325">Get number of invoices</text><polygon fill="#A80036" points="133,1982.0313,123,1986.0313,133,1990.0313,129,1986.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="127" x2="402.5" y1="1986.0313" y2="1986.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="139" y="1980.9653">Number of invoices</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="2014.5977"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="2014.5977" y2="2014.5977"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="2017.5977" y2="2017.5977"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="270" x="254.25" y="2004.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="251" x="260.25" y="2020.0981">Get commercial invoice document</text><polygon fill="#A80036" points="391.5,2054.2969,401.5,2058.2969,391.5,2062.2969,395.5,2058.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="2058.2969" y2="2058.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="129" y="2053.231">Get commercial invoice document</text><polygon fill="#A80036" points="133,2083.4297,123,2087.4297,133,2091.4297,129,2087.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="127" x2="402.5" y1="2087.4297" y2="2087.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="139" y="2082.3638">Commercial invoice document</text><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="772.5" x="3" y="2115.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="2115.9961" y2="2115.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="775.5" y1="2118.9961" y2="2118.9961"/><rect fill="#EEEEEE" filter="url(#f1aibd1xv11z2n)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="135" x="321.75" y="2105.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="327.75" y="2121.4966">Get attachment</text><polygon fill="#A80036" points="391.5,2155.6953,401.5,2159.6953,391.5,2163.6953,395.5,2159.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="122" x2="397.5" y1="2159.6953" y2="2159.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="129" y="2154.6294">Get attachment for invoice</text><polygon fill="#A80036" points="133,2184.8281,123,2188.8281,133,2192.8281,129,2188.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="127" x2="402.5" y1="2188.8281" y2="2188.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="139" y="2183.7622">Attachment</text><!--
@startuml
actor Recipient
entity IPP
database Vipps
entity ISP
entity ISP_IPP

== Fetch authorization token ==

ISP_IPP -> Vipps: Fetch authorization token
Vipps - -> ISP_IPP: Authorization token

== Fetch recipient token ==

ISP_IPP -> Vipps: Fetch recipient token
alt Recipient opt-in
    Vipps - -> ISP_IPP: Recipient token
else Recipient opt-out
    Vipps - -> ISP_IPP: <font color=red><b>Recipient not found
end

== Create invoice ==

ISP -> Vipps: Create invoice
Vipps - -> ISP: OK: Invoice created
note left: Invoice has been inserted (created), but not yet validated

alt Invoice validation OK
    Vipps -> Recipient: Show invoice in app
    Vipps - -> Vipps: Invoice status: pending
else Invoice validation fails
    Vipps - -> Vipps: Invoice status: rejected
end

== Invoice state: Pending -> Approved ==
 
alt IPP
    IPP -> Vipps: Change invoice status to approved
else Recipient
    Recipient -> Vipps: Recipient approves invoice
end

Vipps - -> Vipps: Invoice status: approved

== Invoice state: Pending -> Deleted ==

alt IPP
    IPP -> Vipps: Delete invoice
else Recipient
    Recipient -> Vipps: Recipient delete invoice
end

Vipps - -> Vipps: Invoice status: deleted

note right: Invoice cannot be modified 

== Invoice state: Approved -> Deleted == 
alt IPP
    IPP -> Vipps: Delete invoice
else Recipient
    Recipient -> Vipps: Recipient stop approved payment
    Recipient -> Vipps: Recipient delete invoice
end

Vipps - -> Vipps: Invoice status: deleted

note right: Invoice cannot be modified 

== Invoice state: Pending -> Expired == 

Recipient -> Vipps: Pending invoice not approved after due + 14 days   
Vipps - -> Vipps: Invoice status: expired
note right: Invoice cannot be modified 

== Invoice state: Created/Pending -> Revoked ==

ISP -> Vipps: Invoice revoked by the ISP
Vipps -> Recipient: Remove invoice from app
Vipps - -> Vipps: Invoice status: revoked
note right: Invoice cannot be modified 

== Invoice state: Approved -> Pending == 

alt IPP
    IPP -> Vipps: Change invoice status to pending
else Recipient
    Recipient -> Vipps: Recipient stop approved payment   
end

Vipps - -> Vipps: Invoice status: pending

== Get single invoice == 

ISP_IPP -> Vipps: Get single invoice
Vipps - -> ISP_IPP: Single invoice

== List invoices == 

IPP -> Vipps: Get list of invoices
Vipps - -> IPP: List of invoices

== Count invoices == 

IPP -> Vipps: Get number of invoices
Vipps - -> IPP: Number of invoices

== Get commercial invoice document == 

IPP -> Vipps: Get commercial invoice document
Vipps - -> IPP: Commercial invoice document

== Get attachment == 

IPP -> Vipps: Get attachment for invoice
Vipps - -> IPP: Attachment
@enduml

PlantUML version 1.2019.00(Sun Jan 13 15:46:42 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>